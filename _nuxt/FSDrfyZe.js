import{_ as ae}from"./DbkZEmvK.js";import{_ as Oe}from"./Ddaw2Qsx.js";import{u as be}from"./DaeLaMok.js";import{r as W,a5 as ue,C as $,l as ve,d as le,Z as D,c as w,e as _,n as v,t as z,g as T,f as j,F as he,J as ee,N as O,w as B,M as G,O as q,W as Ge,k as qe,U as Le,V as oe,L as te,o as Me,a4 as Re,K as Ye,a2 as Qe,h as Z,aj as Je,Q as _e,y as Xe,a as Ze,I as V,X as et,ag as tt,a1 as nt}from"./CQW9o_Bo.js";import{r as st,l as rt,i as ot,u as it}from"./Bxyh_3Hk.js";import{l as ke}from"./C7-QrM-_.js";import{t as K,u as Be,j as at,e as lt,f as ct}from"./LA6xQ_8f.js";import{_ as Ne}from"./DTa3PqOu.js";import{_ as Te}from"./DkN_4Y7o.js";import{u as we}from"./DmNEmdDT.js";import"./C6QoCzmS.js";import{Y as ut,G as ht,S as dt,h as ft,u as pt}from"./DOmsiehp.js";import{u as je}from"./zofdaBA_.js";import{u as gt}from"./Lt3aW2Im.js";import"./DpafuX5A.js";import"./CwLGbeD0.js";import"./C9nAdvP5.js";import"./COc4GvHm.js";import"./CJ1DJg6m.js";import"./PcmPgIn5.js";import"./BRWnsx5k.js";import"./BhF48m-E.js";import"./BkVmqrzP.js";const mt={wrapper:"flex flex-col flex-1 min-h-0 divide-y divide-gray-100 dark:divide-gray-800",container:"relative flex-1 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-800 scroll-py-2",input:{wrapper:"relative flex items-center",base:"w-full placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-0 text-gray-900 dark:text-white focus:ring-0 focus:outline-none",padding:"px-4",height:"h-12",size:"sm:text-sm",icon:{base:"pointer-events-none absolute start-4 text-gray-400 dark:text-gray-500",loading:"animate-spin",size:"h-5 w-5",padding:"ps-11"},closeButton:{base:"absolute end-4",padding:"pe-10"}},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",queryLabel:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},group:{wrapper:"p-2",label:"px-2.5 my-2 text-xs font-semibold text-gray-900 dark:text-white",container:"text-sm text-gray-700 dark:text-gray-200",command:{base:"flex justify-between select-none items-center rounded-md px-2.5 py-1.5 gap-2 relative",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactive:"",label:"flex items-center gap-1.5 min-w-0",prefix:"text-gray-400 dark:text-gray-500",suffix:"text-gray-400 dark:text-gray-500",container:"flex items-center gap-1.5 min-w-0",icon:{base:"flex-shrink-0 w-5 h-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"},disabled:"opacity-50",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5"},active:"flex-shrink-0 text-gray-500 dark:text-gray-400",inactive:"flex-shrink-0 text-gray-500 dark:text-gray-400"},default:{icon:"i-heroicons-magnifying-glass-20-solid",loadingIcon:"i-heroicons-arrow-path-20-solid",emptyState:{icon:"i-heroicons-magnifying-glass-20-solid",label:"We couldn't find any items.",queryLabel:"We couldn't find any items with that term. Please try again."},closeButton:null,selectedIcon:"i-heroicons-check-20-solid"}},yt={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function H(e){return Array.isArray?Array.isArray(e):Fe(e)==="[object Array]"}const bt=1/0;function vt(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-bt?"-0":t}function kt(e){return e==null?"":vt(e)}function F(e){return typeof e=="string"}function Pe(e){return typeof e=="number"}function wt(e){return e===!0||e===!1||St(e)&&Fe(e)=="[object Boolean]"}function Ke(e){return typeof e=="object"}function St(e){return Ke(e)&&e!==null}function L(e){return e!=null}function ce(e){return!e.trim().length}function Fe(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const It="Incorrect 'index' type",Mt=e=>`Invalid value for key ${e}`,$t=e=>`Pattern length exceeds max of ${e}.`,At=e=>`Missing ${e} property in key`,Ct=e=>`Property 'weight' in key '${e}' must be a positive integer`,$e=Object.prototype.hasOwnProperty;class Et{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let i=Ve(s);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ve(e){let t=null,n=null,s=null,i=1,r=null;if(F(e)||H(e))s=e,t=Ae(e),n=de(e);else{if(!$e.call(e,"name"))throw new Error(At("name"));const o=e.name;if(s=o,$e.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Ct(o));t=Ae(o),n=de(o),r=e.getFn}return{path:t,id:n,weight:i,src:s,getFn:r}}function Ae(e){return H(e)?e:e.split(".")}function de(e){return H(e)?e.join("."):e}function xt(e,t){let n=[],s=!1;const i=(r,o,c)=>{if(L(r))if(!o[c])n.push(r);else{let u=o[c];const l=r[u];if(!L(l))return;if(c===o.length-1&&(F(l)||Pe(l)||wt(l)))n.push(kt(l));else if(H(l)){s=!0;for(let a=0,h=l.length;a<h;a+=1)i(l[a],o,c+1)}else o.length&&i(l,o,c+1)}};return i(e,F(t)?t.split("."):t,0),s?n:n[0]}const Ot={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Lt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Rt={location:0,threshold:.6,distance:100},_t={useExtendedSearch:!1,getFn:xt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var f={...Lt,...Ot,...Rt,..._t};const Bt=/[^ ]+/g;function Nt(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(i){const r=i.match(Bt).length;if(n.has(r))return n.get(r);const o=1/Math.pow(r,.5*e),c=parseFloat(Math.round(o*s)/s);return n.set(r,c),c},clear(){n.clear()}}}class Se{constructor({getFn:t=f.getFn,fieldNormWeight:n=f.fieldNormWeight}={}){this.norm=Nt(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,F(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();F(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!L(t)||ce(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((i,r)=>{let o=i.getFn?i.getFn(t):this.getFn(t,i.path);if(L(o)){if(H(o)){let c=[];const u=[{nestedArrIndex:-1,value:o}];for(;u.length;){const{nestedArrIndex:l,value:a}=u.pop();if(L(a))if(F(a)&&!ce(a)){let h={v:a,i:l,n:this.norm.get(a)};c.push(h)}else H(a)&&a.forEach((h,d)=>{u.push({nestedArrIndex:d,value:h})})}s.$[r]=c}else if(F(o)&&!ce(o)){let c={v:o,n:this.norm.get(o)};s.$[r]=c}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function De(e,t,{getFn:n=f.getFn,fieldNormWeight:s=f.fieldNormWeight}={}){const i=new Se({getFn:n,fieldNormWeight:s});return i.setKeys(e.map(Ve)),i.setSources(t),i.create(),i}function Tt(e,{getFn:t=f.getFn,fieldNormWeight:n=f.fieldNormWeight}={}){const{keys:s,records:i}=e,r=new Se({getFn:t,fieldNormWeight:n});return r.setKeys(s),r.setIndexRecords(i),r}function re(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:i=f.distance,ignoreLocation:r=f.ignoreLocation}={}){const o=t/e.length;if(r)return o;const c=Math.abs(s-n);return i?o+c/i:c?1:o}function jt(e=[],t=f.minMatchCharLength){let n=[],s=-1,i=-1,r=0;for(let o=e.length;r<o;r+=1){let c=e[r];c&&s===-1?s=r:!c&&s!==-1&&(i=r-1,i-s+1>=t&&n.push([s,i]),s=-1)}return e[r-1]&&r-s>=t&&n.push([s,r-1]),n}const Q=32;function Pt(e,t,n,{location:s=f.location,distance:i=f.distance,threshold:r=f.threshold,findAllMatches:o=f.findAllMatches,minMatchCharLength:c=f.minMatchCharLength,includeMatches:u=f.includeMatches,ignoreLocation:l=f.ignoreLocation}={}){if(t.length>Q)throw new Error($t(Q));const a=t.length,h=e.length,d=Math.max(0,Math.min(s,h));let p=r,m=d;const y=c>1||u,k=y?Array(h):[];let A;for(;(A=e.indexOf(t,m))>-1;){let g=re(t,{currentLocation:A,expectedLocation:d,distance:i,ignoreLocation:l});if(p=Math.min(g,p),m=A+a,y){let b=0;for(;b<a;)k[A+b]=1,b+=1}}m=-1;let P=[],R=1,U=a+h;const N=1<<a-1;for(let g=0;g<a;g+=1){let b=0,M=U;for(;b<M;)re(t,{errors:g,currentLocation:d+M,expectedLocation:d,distance:i,ignoreLocation:l})<=p?b=M:U=M,M=Math.floor((U-b)/2+b);U=M;let I=Math.max(1,d-M+1),C=o?h:Math.min(d+M,h)+a,E=Array(C+2);E[C+1]=(1<<g)-1;for(let x=C;x>=I;x-=1){let se=x-1,Ie=n[e.charAt(se)];if(y&&(k[se]=+!!Ie),E[x]=(E[x+1]<<1|1)&Ie,g&&(E[x]|=(P[x+1]|P[x])<<1|1|P[x+1]),E[x]&N&&(R=re(t,{errors:g,currentLocation:se,expectedLocation:d,distance:i,ignoreLocation:l}),R<=p)){if(p=R,m=se,m<=d)break;I=Math.max(1,2*d-m)}}if(re(t,{errors:g+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:l})>p)break;P=E}const S={isMatch:m>=0,score:Math.max(.001,R)};if(y){const g=jt(k,c);g.length?u&&(S.indices=g):S.isMatch=!1}return S}function Kt(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<s-n-1}return t}class He{constructor(t,{location:n=f.location,threshold:s=f.threshold,distance:i=f.distance,includeMatches:r=f.includeMatches,findAllMatches:o=f.findAllMatches,minMatchCharLength:c=f.minMatchCharLength,isCaseSensitive:u=f.isCaseSensitive,ignoreLocation:l=f.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:c,isCaseSensitive:u,ignoreLocation:l},this.pattern=u?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const a=(d,p)=>{this.chunks.push({pattern:d,alphabet:Kt(d),startIndex:p})},h=this.pattern.length;if(h>Q){let d=0;const p=h%Q,m=h-p;for(;d<m;)a(this.pattern.substr(d,Q),d),d+=Q;if(p){const y=h-Q;a(this.pattern.substr(y),y)}}else a(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let m={isMatch:!0,score:0};return s&&(m.indices=[[0,t.length-1]]),m}const{location:i,distance:r,threshold:o,findAllMatches:c,minMatchCharLength:u,ignoreLocation:l}=this.options;let a=[],h=0,d=!1;this.chunks.forEach(({pattern:m,alphabet:y,startIndex:k})=>{const{isMatch:A,score:P,indices:R}=Pt(t,m,y,{location:i+k,distance:r,threshold:o,findAllMatches:c,minMatchCharLength:u,includeMatches:s,ignoreLocation:l});A&&(d=!0),h+=P,A&&R&&(a=[...a,...R])});let p={isMatch:d,score:d?h/this.chunks.length:1};return d&&s&&(p.indices=a),p}}class Y{constructor(t){this.pattern=t}static isMultiMatch(t){return Ce(t,this.multiRegex)}static isSingleMatch(t){return Ce(t,this.singleRegex)}search(){}}function Ce(e,t){const n=e.match(t);return n?n[1]:null}class Ft extends Y{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Vt extends Y{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Dt extends Y{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Ht extends Y{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Ut extends Y{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class zt extends Y{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Ue extends Y{constructor(t,{location:n=f.location,threshold:s=f.threshold,distance:i=f.distance,includeMatches:r=f.includeMatches,findAllMatches:o=f.findAllMatches,minMatchCharLength:c=f.minMatchCharLength,isCaseSensitive:u=f.isCaseSensitive,ignoreLocation:l=f.ignoreLocation}={}){super(t),this._bitapSearch=new He(t,{location:n,threshold:s,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:c,isCaseSensitive:u,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class ze extends Y{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const i=[],r=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+r,i.push([s,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const fe=[Ft,ze,Dt,Ht,zt,Ut,Vt,Ue],Ee=fe.length,Wt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Gt="|";function qt(e,t={}){return e.split(Gt).map(n=>{let s=n.trim().split(Wt).filter(r=>r&&!!r.trim()),i=[];for(let r=0,o=s.length;r<o;r+=1){const c=s[r];let u=!1,l=-1;for(;!u&&++l<Ee;){const a=fe[l];let h=a.isMultiMatch(c);h&&(i.push(new a(h,t)),u=!0)}if(!u)for(l=-1;++l<Ee;){const a=fe[l];let h=a.isSingleMatch(c);if(h){i.push(new a(h,t));break}}}return i})}const Yt=new Set([Ue.type,ze.type]);class Qt{constructor(t,{isCaseSensitive:n=f.isCaseSensitive,includeMatches:s=f.includeMatches,minMatchCharLength:i=f.minMatchCharLength,ignoreLocation:r=f.ignoreLocation,findAllMatches:o=f.findAllMatches,location:c=f.location,threshold:u=f.threshold,distance:l=f.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:i,findAllMatches:o,ignoreLocation:r,location:c,threshold:u,distance:l},this.pattern=n?t:t.toLowerCase(),this.query=qt(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let r=0,o=[],c=0;for(let u=0,l=n.length;u<l;u+=1){const a=n[u];o.length=0,r=0;for(let h=0,d=a.length;h<d;h+=1){const p=a[h],{isMatch:m,indices:y,score:k}=p.search(t);if(m){if(r+=1,c+=k,s){const A=p.constructor.type;Yt.has(A)?o=[...o,...y]:o.push(y)}}else{c=0,r=0,o.length=0;break}}if(r){let h={isMatch:!0,score:c/r};return s&&(h.indices=o),h}}return{isMatch:!1,score:1}}}const pe=[];function Jt(...e){pe.push(...e)}function ge(e,t){for(let n=0,s=pe.length;n<s;n+=1){let i=pe[n];if(i.condition(e,t))return new i(e,t)}return new He(e,t)}const ie={AND:"$and",OR:"$or"},me={PATH:"$path",PATTERN:"$val"},ye=e=>!!(e[ie.AND]||e[ie.OR]),Xt=e=>!!e[me.PATH],Zt=e=>!H(e)&&Ke(e)&&!ye(e),xe=e=>({[ie.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function We(e,t,{auto:n=!0}={}){const s=i=>{let r=Object.keys(i);const o=Xt(i);if(!o&&r.length>1&&!ye(i))return s(xe(i));if(Zt(i)){const u=o?i[me.PATH]:r[0],l=o?i[me.PATTERN]:i[u];if(!F(l))throw new Error(Mt(u));const a={keyId:de(u),pattern:l};return n&&(a.searcher=ge(l,t)),a}let c={children:[],operator:r[0]};return r.forEach(u=>{const l=i[u];H(l)&&l.forEach(a=>{c.children.push(s(a))})}),c};return ye(e)||(e=xe(e)),s(e)}function en(e,{ignoreFieldNorm:t=f.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:i,norm:r,score:o})=>{const c=i?i.weight:null;s*=Math.pow(o===0&&c?Number.EPSILON:o,(c||1)*(t?1:r))}),n.score=s})}function tn(e,t){const n=e.matches;t.matches=[],L(n)&&n.forEach(s=>{if(!L(s.indices)||!s.indices.length)return;const{indices:i,value:r}=s;let o={indices:i,value:r};s.key&&(o.key=s.key.src),s.idx>-1&&(o.refIndex=s.idx),t.matches.push(o)})}function nn(e,t){t.score=e.score}function sn(e,t,{includeMatches:n=f.includeMatches,includeScore:s=f.includeScore}={}){const i=[];return n&&i.push(tn),s&&i.push(nn),e.map(r=>{const{idx:o}=r,c={item:t[o],refIndex:o};return i.length&&i.forEach(u=>{u(r,c)}),c})}class X{constructor(t,n={},s){this.options={...f,...n},this.options.useExtendedSearch,this._keyStore=new Et(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Se))throw new Error(It);this._myIndex=n||De(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){L(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,i=this._docs.length;s<i;s+=1){const r=this._docs[s];t(r,s)&&(this.removeAt(s),s-=1,i-=1,n.push(r))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:i,shouldSort:r,sortFn:o,ignoreFieldNorm:c}=this.options;let u=F(t)?F(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return en(u,{ignoreFieldNorm:c}),r&&u.sort(o),Pe(n)&&n>-1&&(u=u.slice(0,n)),sn(u,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(t){const n=ge(t,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:r,i:o,n:c})=>{if(!L(r))return;const{isMatch:u,score:l,indices:a}=n.searchIn(r);u&&i.push({item:r,idx:o,matches:[{score:l,value:r,norm:c,indices:a}]})}),i}_searchLogical(t){const n=We(t,this.options),s=(c,u,l)=>{if(!c.children){const{keyId:h,searcher:d}=c,p=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(u,h),searcher:d});return p&&p.length?[{idx:l,item:u,matches:p}]:[]}const a=[];for(let h=0,d=c.children.length;h<d;h+=1){const p=c.children[h],m=s(p,u,l);if(m.length)a.push(...m);else if(c.operator===ie.AND)return[]}return a},i=this._myIndex.records,r={},o=[];return i.forEach(({$:c,i:u})=>{if(L(c)){let l=s(n,c,u);l.length&&(r[u]||(r[u]={idx:u,item:c,matches:[]},o.push(r[u])),l.forEach(({matches:a})=>{r[u].matches.push(...a)}))}}),o}_searchObjectList(t){const n=ge(t,this.options),{keys:s,records:i}=this._myIndex,r=[];return i.forEach(({$:o,i:c})=>{if(!L(o))return;let u=[];s.forEach((l,a)=>{u.push(...this._findMatches({key:l,value:o[a],searcher:n}))}),u.length&&r.push({idx:c,item:o,matches:u})}),r}_findMatches({key:t,value:n,searcher:s}){if(!L(n))return[];let i=[];if(H(n))n.forEach(({v:r,i:o,n:c})=>{if(!L(r))return;const{isMatch:u,score:l,indices:a}=s.searchIn(r);u&&i.push({score:l,key:t,value:r,idx:o,norm:c,indices:a})});else{const{v:r,n:o}=n,{isMatch:c,score:u,indices:l}=s.searchIn(r);c&&i.push({score:u,key:t,value:r,norm:o,indices:l})}return i}}X.version="6.6.2";X.createIndex=De;X.parseIndex=Tt;X.config=f;X.parseQuery=We;Jt(Qt);function rn(e,t,n){const s=()=>{var o,c;return new X((o=K(t))!=null?o:[],(c=K(n))==null?void 0:c.fuseOptions)},i=W(s());ue(()=>{var o;return(o=K(n))==null?void 0:o.fuseOptions},()=>{i.value=s()},{deep:!0}),ue(()=>K(t),o=>{i.value.setCollection(o)},{deep:!0});const r=$(()=>{const o=K(n);if(o!=null&&o.matchAllWhenSearchEmpty&&!K(e))return K(t).map((u,l)=>({item:u,refIndex:l}));const c=o==null?void 0:o.resultLimit;return i.value.search(K(e),c?{limit:c}:void 0)});return{fuse:i,results:r}}const on=le({components:{HComboboxOption:st,UIcon:ae,UAvatar:Ne,UKbd:Te},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,required:!0}},setup(e){const t=$(()=>{const s=e.group[e.groupAttribute];return typeof s=="function"?s(e.query):s});function n(s,{indices:i,value:r}){if(s===r)return"";let o="",c=0;i.forEach(l=>{const a=l[1]+1,h=a-l[0]>=e.query.length;o+=[r.substring(c,l[0]),h&&"<mark>",r.substring(l[0],a),h&&"</mark>"].filter(Boolean).join(""),c=a}),o+=r.substring(c);const u=o.indexOf("<mark>");return u>60&&(o=`...${o.substring(u-60)}`),o}return ke(()=>be("$zZqq9K63BB")),{label:t,highlight:n}}}),an=["aria-label"],ln=["innerHTML"];function cn(e,t,n,s,i,r){const o=ae,c=Ne,u=Te,l=D("HComboboxOption");return w(),_("div",{class:v(e.ui.group.wrapper)},[e.label?(w(),_("h2",{key:0,class:v(e.ui.group.label)},z(e.label),3)):T("",!0),j("div",{class:v(e.ui.group.container),"aria-label":e.group[e.groupAttribute]},[(w(!0),_(he,null,ee(e.group.commands,(a,h)=>(w(),O(l,{key:`${e.group.key}-${h}`,value:a,disabled:a.disabled,as:"template"},{default:B(({active:d,selected:p})=>[j("div",{class:v([e.ui.group.command.base,d?e.ui.group.command.active:e.ui.group.command.inactive,a.disabled?"cursor-not-allowed":"cursor-pointer"])},[j("div",{class:v(e.ui.group.command.container)},[G(e.$slots,`${e.group.key}-icon`,{group:e.group,command:a,active:d,selected:p},()=>[a.icon?(w(),O(o,{key:0,name:a.icon,class:v([e.ui.group.command.icon.base,d?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,a.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):a.avatar?(w(),O(c,q({key:1,ref_for:!0},{size:e.ui.group.command.avatar.size,...a.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):a.chip?(w(),_("span",{key:2,class:v(e.ui.group.command.chip.base),style:Ge({background:`#${a.chip}`})},null,6)):T("",!0)]),j("div",{class:v([e.ui.group.command.label,a.disabled&&e.ui.group.command.disabled])},[G(e.$slots,`${e.group.key}-command`,{group:e.group,command:a,active:d,selected:p},()=>{var m,y;return[a.prefix?(w(),_("span",{key:0,class:v(["flex-shrink-0",a.prefixClass||e.ui.group.command.prefix])},z(a.prefix),3)):T("",!0),j("span",{class:v(["truncate",{"flex-none":a.suffix||((m=a.matches)==null?void 0:m.length)}])},z(a[e.commandAttribute]),3),(y=a.matches)!=null&&y.length?(w(),_("span",{key:1,class:v(["truncate",a.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(a[e.commandAttribute],a.matches[0])},null,10,ln)):a.suffix?(w(),_("span",{key:2,class:v(["truncate",a.suffixClass||e.ui.group.command.suffix])},z(a.suffix),3)):T("",!0)]})],2)],2),p?(w(),O(o,{key:0,name:e.selectedIcon,class:v(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):d&&(e.group.active||e.$slots[`${e.group.key}-active`])?G(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:a,active:d,selected:p},()=>[e.group.active?(w(),_("span",{key:0,class:v(e.ui.group.active)},z(e.group.active),3)):T("",!0)]):G(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:a,active:d,selected:p},()=>{var m;return[(m=a.shortcuts)!=null&&m.length?(w(),_("span",{key:0,class:v(e.ui.group.command.shortcuts)},[(w(!0),_(he,null,ee(a.shortcuts,y=>(w(),O(u,{key:y},{default:B(()=>[qe(z(y),1)]),_:2},1024))),128))],2)):!a.disabled&&e.group.inactive?(w(),_("span",{key:1,class:v(e.ui.group.inactive)},z(e.group.inactive),3)):T("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,an)],2)}const un=ve(on,[["render",cn]]),J=Le(oe.ui.strategy,oe.ui.commandPalette,mt),hn=le({components:{HCombobox:rt,HComboboxInput:ot,HComboboxOptions:it,UIcon:ae,UButton:Oe,CommandPaletteGroup:un},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>J.default.icon},loadingIcon:{type:String,default:()=>J.default.loadingIcon},selectedIcon:{type:String,default:()=>J.default.selectedIcon},closeButton:{type:Object,default:()=>J.default.closeButton},emptyState:{type:Object,default:()=>J.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:t,expose:n}){const{ui:s,attrs:i}=we("commandPalette",te(e,"ui"),J,te(e,"class")),r=W(""),o=W(),c=W(null),u=W(!1);Me(()=>{e.autoselect&&U()}),Me(()=>{setTimeout(()=>{var M;const g=(M=o.value)==null?void 0:M.$.provides;if(!g)return;const b=Object.getOwnPropertySymbols(g);c.value=b.length&&g[b[0]]},200)});const l=$(()=>Re({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0})),a=$(()=>{var b;const g=[];for(const M of e.groups)M.search||g.push(...((b=M.commands)==null?void 0:b.map(I=>({...I,group:M.key})))||[]);return g}),h=W({}),{results:d}=rn(r,a,l);function p(g,b){if(g)return g.filter&&typeof g.filter=="function"&&(b=g.filter(r.value,b)),{...g,commands:b.slice(0,l.value.resultLimit)}}const m=$(()=>{if(!d.value)return[];const g=d.value.reduce((I,C)=>{var x;const{item:E,...ne}=C;return E.group&&(I[x=E.group]||(I[x]=[]),I[E.group].push({...E,...ne})),I},{}),b=Object.entries(g).map(([I,C])=>{const E=e.groups.find(ne=>ne.key===I);return E?p(E,C):null}).filter(Boolean),M=e.groups.filter(I=>{var C;return!!I.search&&((C=h.value[I.key])==null?void 0:C.length)}).map(I=>{const C=h.value[I.key]||[];return p(I,[...C])});return[...b,...M]}),y=Be(async()=>{const g=e.groups.filter(b=>!!b.search);g.length&&(u.value=!0,await Promise.all(g.map(async b=>{h.value[b.key]=await b.search(r.value)})),u.value=!1,R())},e.debounce);ue(r,()=>{y(),R()});const k=$(()=>(e.loading||u.value)&&e.loadingIcon?e.loadingIcon:e.icon),A=$(()=>Ye(s.value.input.icon.base,s.value.input.icon.size,(e.loading||u.value)&&e.loadingIcon&&s.value.input.icon.loading)),P=$(()=>e.emptyState===null?null:{...s.value.default.emptyState,...e.emptyState});function R(){setTimeout(()=>{var g;(g=o.value)==null||g.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))},0)}function U(){setTimeout(()=>{var g;(g=o.value)==null||g.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},0)}function N(g){t("update:modelValue",g,{query:r.value}),e.autoclear&&setTimeout(()=>{r.value=""},0)}function S(){r.value?r.value="":t("close")}return n({query:r,updateQuery:g=>{r.value=g},comboboxApi:c,results:d}),ke(()=>be("$L1EyMcTUvR")),{ui:s,attrs:i,groups:m,comboboxInput:o,query:r,iconName:k,iconClass:A,emptyState:P,onSelect:N,onClear:S}}});function dn(e,t,n,s,i,r){const o=ae,c=D("HComboboxInput"),u=Oe,l=D("CommandPaletteGroup"),a=D("HComboboxOptions"),h=D("HCombobox");return w(),O(h,q({by:e.by,"model-value":e.modelValue,multiple:e.multiple,nullable:e.nullable,class:e.ui.wrapper},e.attrs,{as:"div","onUpdate:modelValue":e.onSelect}),{default:B(()=>[Qe(j("div",{class:v(e.ui.input.wrapper)},[e.iconName?(w(),O(o,{key:0,name:e.iconName,class:v(e.iconClass),"aria-hidden":"true"},null,8,["name","class"])):T("",!0),Z(c,{ref:"comboboxInput",value:e.query,class:v([e.ui.input.base,e.ui.input.size,e.ui.input.height,e.ui.input.padding,e.icon&&e.ui.input.icon.padding,e.closeButton&&e.ui.input.closeButton.padding]),placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off",onChange:t[0]||(t[0]=d=>e.query=d.target.value)},null,8,["value","class","placeholder","aria-label"]),e.closeButton?(w(),O(u,q({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{class:e.ui.input.closeButton.base,onClick:e.onClear}),null,16,["class","onClick"])):T("",!0)],2),[[Je,e.searchable]]),e.groups.length?(w(),O(a,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:v(e.ui.container)},{default:B(()=>[(w(!0),_(he,null,ee(e.groups,d=>(w(),O(l,{key:d.key,query:e.query,group:d,"group-attribute":e.groupAttribute,"command-attribute":e.commandAttribute,"selected-icon":e.selectedIcon,ui:e.ui},_e({_:2},[ee(e.$slots,(p,m)=>({name:m,fn:B(y=>[G(e.$slots,m,q({ref_for:!0},y))])}))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"]))),128))]),_:3},8,["class"])):e.emptyState?G(e.$slots,"empty-state",{key:1},()=>[j("div",{class:v(e.ui.emptyState.wrapper)},[e.emptyState.icon?(w(),O(o,{key:0,name:e.emptyState.icon,class:v(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):T("",!0),j("p",{class:v(e.query?e.ui.emptyState.queryLabel:e.ui.emptyState.label)},z(e.query?e.emptyState.queryLabel:e.emptyState.label),3)],2)]):T("",!0)]),_:3},16,["by","model-value","multiple","nullable","class","onUpdate:modelValue"])}const fn=ve(hn,[["render",dn]]),pn=Le(oe.ui.strategy,oe.ui.modal,yt),gn=le({components:{HDialog:ut,HDialogPanel:ht,TransitionRoot:dt,TransitionChild:ft},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:n,attrs:s}=we("modal",te(e,"ui"),pn,te(e,"class")),i=$({get(){return e.modelValue},set(u){t("update:modelValue",u)}}),r=$(()=>e.transition?{...n.value.transition}:{});function o(u){if(e.preventClose){t("close-prevented");return}i.value=u,t("close")}const c=()=>{t("after-leave")};return ke(()=>be("$jOVn1Rr803")),{ui:n,attrs:s,isOpen:i,transitionClass:r,onAfterLeave:c,close:o}}});function mn(e,t,n,s,i,r){const o=D("TransitionChild"),c=D("HDialogPanel"),u=D("HDialog"),l=D("TransitionRoot");return w(),O(l,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:B(()=>[Z(u,q({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:B(()=>[e.overlay?(w(),O(o,q({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:B(()=>[j("div",{class:v([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):T("",!0),j("div",{class:v(e.ui.inner)},[j("div",{class:v([e.ui.container,!e.fullscreen&&e.ui.padding])},[Z(o,q({as:"template",appear:e.appear},e.transitionClass),{default:B(()=>[Z(c,{class:v([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:B(()=>[G(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const yn=ve(gn,[["render",mn]]);function bn(...e){return $(()=>e.every(t=>K(t)))}function vn(e){return $(()=>!K(e))}const kn=/^[^-]+.*-.*[^-]+$/,wn=/^[^_]+.*_.*[^_]+$/,Sn=(e,t={})=>{const{macOS:n,usingInput:s}=je();let i=[];const r=W([]),o=()=>{r.value.splice(0,r.value.length)},c=Be(o,t.chainDelay??800),u=l=>{if(!l.key)return;const a=/^[a-z]{1}$/i.test(l.key);let h;if(r.value.push(l.key),r.value.length>=2){h=r.value.slice(-2).join("-");for(const d of i.filter(p=>p.chained))if(d.key===h){d.condition.value&&(l.preventDefault(),d.handler()),o();return}}for(const d of i.filter(p=>!p.chained))if(l.key.toLowerCase()===d.key&&l.metaKey===d.metaKey&&l.ctrlKey===d.ctrlKey&&!(a&&l.shiftKey!==d.shiftKey)){d.condition.value&&(l.preventDefault(),d.handler()),o();return}c()};i=Object.entries(e).map(([l,a])=>{var m,y;if(!a)return null;let h;l.includes("-")&&l!=="-"&&!((m=l.match(kn))!=null&&m.length)&&console.trace(`[Shortcut] Invalid key: "${l}"`),l.includes("_")&&l!=="_"&&!((y=l.match(wn))!=null&&y.length)&&console.trace(`[Shortcut] Invalid key: "${l}"`);const d=l.includes("-")&&l!=="-";if(d)h={key:l.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const k=l.toLowerCase().split("_").map(A=>A);h={key:k.filter(A=>!["meta","ctrl","shift","alt"].includes(A)).join("_"),metaKey:k.includes("meta"),ctrlKey:k.includes("ctrl"),shiftKey:k.includes("shift"),altKey:k.includes("alt")}}if(h.chained=d,!n.value&&h.metaKey&&!h.ctrlKey&&(h.metaKey=!1,h.ctrlKey=!0),typeof a=="function"?h.handler=a:typeof a=="object"&&(h={...h,handler:a.handler}),!h.handler)return console.trace("[Shortcut] Invalid value"),null;const p=[];return a.usingInput?typeof a.usingInput=="string"&&p.push($(()=>s.value===a.usingInput)):p.push(vn(s)),h.condition=bn(...p,...a.whenever||[]),h}).filter(Boolean),at("keydown",u)},Wn=le({inheritAttrs:!1,__name:"DashboardSearch",props:{modelValue:{type:Boolean,default:void 0},groups:{type:Array,default:()=>[]},fuse:{type:Object,default:()=>({})},hideColorMode:{type:Boolean,default:!1},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const s=Xe(),i=$(()=>({padding:"p-0 sm:p-4",rounded:"rounded-none sm:rounded-lg",width:"sm:max-w-3xl",height:"h-dvh sm:h-[28rem]",commandPalette:{input:{height:"h-[--header-height] sm:h-12",icon:{size:"h-5 w-5",padding:"ps-11"}},group:{command:{prefix:"!text-foreground after:content-['_>']"}},container:"scroll-py-10"},fileIcon:{name:"i-heroicons-document-text"},default:{closeButton:{icon:s.ui.icons.close,color:"gray",variant:"ghost",size:"sm"}}})),r=e,o=n,c=Ze(),{usingInput:u}=je(),{isDashboardSearchModalOpen:l}=pt(),a=lt(ct),h=gt(),{ui:d,attrs:p}=we("dashboard.search",te(r,"ui"),i,void 0,!0),m=a.smaller("sm"),y=W(),k=$({get(){return r.modelValue!==void 0?r.modelValue:l.value},set(N){r.modelValue!==void 0?o("update:modelValue",N):l.value=N}}),A=$(()=>Re({},r.fuse,{fuseOptions:{ignoreLocation:!0,includeMatches:!0,threshold:.1,keys:[{name:"title",weight:5},{name:"label",weight:5},{name:"suffix",weight:3}]},resultLimit:12})),P=$(()=>[...r.groups||[],!(h!=null&&h.forced)&&!r.hideColorMode&&{key:"theme",label:"Theme",commands:[{id:"theme-light",label:"Light",icon:s.ui.icons.light,disabled:h.preference==="light",click:()=>{h.preference="light"}},{id:"theme-dark",label:"Dark",icon:s.ui.icons.dark,disabled:h.preference==="dark",click:()=>{h.preference="dark"}}]}].filter(Boolean)),R=$(()=>k.value||!u.value);function U(N){k.value=!1;const S=N[0];S&&(S.click?S.click():S.to?S.target==="_blank"||S.to.startsWith("http")?window.open(S.to,S.target||"_blank"):c.push(S.to):S.href&&window.open(S.href,"_blank"))}return Sn({meta_k:{usingInput:!0,whenever:[R],handler:()=>{k.value=!k.value}},escape:{usingInput:!0,whenever:[k],handler:()=>{k.value=!1}}}),t({commandPaletteRef:y}),(N,S)=>{const g=fn,b=yn;return w(),O(b,{modelValue:V(k),"onUpdate:modelValue":S[1]||(S[1]=M=>nt(k)?k.value=M:null),overlay:!V(m),transition:!V(m),ui:V(d)},{default:B(()=>[Z(g,q({ref_key:"commandPaletteRef",ref:y,"model-value":[],groups:V(P),ui:V(d).commandPalette,"close-button":V(d).default.closeButton,fuse:V(A),multiple:""},V(p),{"onUpdate:modelValue":U,onClose:S[0]||(S[0]=M=>k.value=!1)}),_e({_:2},[ee(N.$slots,(M,I)=>({name:I,fn:B(C=>[G(N.$slots,I,et(tt(C)))])}))]),1040,["groups","ui","close-button","fuse"])]),_:3},8,["modelValue","overlay","transition","ui"])}}});export{Wn as default};
