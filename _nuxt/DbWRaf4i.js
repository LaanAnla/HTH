import{d as B,p as D}from"./COc4GvHm.js";import{I,o as K,E as L,A as T,T as j,a as f}from"./C7-QrM-_.js";import{s as A}from"./PcmPgIn5.js";import{f as F,u as O}from"./BhF48m-E.js";import{d as P,ad as R,C as r,r as G,o as H,a5 as M,ab as v,F as N}from"./CQW9o_Bo.js";let q=Symbol("GroupContext"),X=P({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(t,{emit:y,attrs:d,slots:b,expose:h}){var i;let k=(i=t.id)!=null?i:`headlessui-switch-${I()}`,l=R(q,null),[n,s]=B(r(()=>t.modelValue),e=>y("update:modelValue",e),r(()=>t.defaultChecked));function p(){s(!n.value)}let C=G(null),o=l===null?C:l.switchRef,$=A(r(()=>({as:t.as,type:d.type})),o);h({el:o,$el:o});function S(e){e.preventDefault(),p()}function x(e){e.key===f.Space?(e.preventDefault(),p()):e.key===f.Enter&&D(e.currentTarget)}function g(e){e.preventDefault()}let u=r(()=>{var e,a;return(a=(e=K(o))==null?void 0:e.closest)==null?void 0:a.call(e,"form")});return H(()=>{M([u],()=>{if(!u.value||t.defaultChecked===void 0)return;function e(){s(t.defaultChecked)}return u.value.addEventListener("reset",e),()=>{var a;(a=u.value)==null||a.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{name:e,value:a,form:w,tabIndex:m,...c}=t,E={checked:n.value},V={id:k,ref:o,role:"switch",type:$.value,tabIndex:m===-1?0:m,"aria-checked":n.value,"aria-labelledby":l==null?void 0:l.labelledby.value,"aria-describedby":l==null?void 0:l.describedby.value,onClick:S,onKeyup:x,onKeypress:g};return v(N,[e!=null&&n.value!=null?v(F,L({features:O.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:n.value,form:w,disabled:c.disabled,name:e,value:a})):null,T({ourProps:V,theirProps:{...d,...j(c,["modelValue","defaultChecked"])},slot:E,attrs:d,slots:b,name:"Switch"})])}}});export{X as u};
